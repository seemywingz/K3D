plugins {
    id 'org.jetbrains.kotlin.konan' version '0.9.1'
}

konan.targets = [ 'macos_x64', 'linux', 'mingw' ]

konanArtifacts {

    interop('openGL'){
        defFile 'src/cinterops/openGL.def'
    }

    interop('glfw'){
        defFile 'src/cinterops/glfw.def'
    }

    library('K3D') {
        srcFiles fileTree('src/lib/K3D')
        libraries {
            artifact 'openGL'
            artifact 'glfw'
        }
    }

    program('Cube') {
        libraries {
            artifact 'K3D'
            artifact 'openGL'
        }
        srcFiles fileTree('src/examples/Cube.kt')
    }
}